<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game | Purple Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        body {
            font-family: 'Press Start 2P', cursive;
            overflow: hidden;
            touch-action: none;
            user-select: none;
        }
        
        #gameCanvas {
            display: block;
            margin: 0 auto;
            background-color: #1a052e;
            border: 4px solid #6b21a8;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(124, 58, 237, 0.5);
        }
        
        .snake-segment {
            position: absolute;
            background-color: #a855f7;
            border: 2px solid #c084fc;
            border-radius: 4px;
        }
        
        .food {
            position: absolute;
            background-color: #f0abfc;
            border-radius: 50%;
            box-shadow: 0 0 10px #e879f9;
        }
        
        .game-over {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .glow {
            text-shadow: 0 0 10px #c084fc, 0 0 20px #a855f7;
        }
        
        .btn-purple {
            background: linear-gradient(135deg, #7e22ce, #a855f7);
            box-shadow: 0 4px 15px rgba(124, 58, 237, 0.4);
            transition: all 0.3s ease;
        }
        
        .btn-purple:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(124, 58, 237, 0.6);
        }
        
        .btn-purple:active {
            transform: translateY(1px);
        }
    </style>
</head>
<body class="bg-gray-900 text-purple-200 min-h-screen flex flex-col items-center justify-center p-4">
    <div class="text-center mb-4">
        <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-2 glow">SNAKE GAME</h1>
        <p class="text-sm md:text-base text-purple-300 mb-4">Use as setas ou toque na tela para jogar</p>
        
        <div class="flex justify-center gap-8 mb-4">
            <div class="bg-purple-900 bg-opacity-50 px-4 py-2 rounded-lg">
                <p class="text-xs text-purple-200">SCORE</p>
                <p id="score" class="text-xl font-bold text-purple-100">0</p>
            </div>
            <div class="bg-purple-900 bg-opacity-50 px-4 py-2 rounded-lg">
                <p class="text-xs text-purple-200">HIGH SCORE</p>
                <p id="highScore" class="text-xl font-bold text-purple-100">0</p>
            </div>
        </div>
    </div>
    
    <div class="relative">
        <canvas id="gameCanvas" class="w-full max-w-md" width="300" height="300"></canvas>
        
        <div id="gameOver" class="hidden absolute inset-0 bg-black bg-opacity-70 flex flex-col items-center justify-center rounded-lg">
            <h2 class="text-2xl md:text-3xl font-bold text-purple-100 mb-4 game-over">GAME OVER</h2>
            <p id="finalScore" class="text-xl text-purple-200 mb-6">Score: 0</p>
            <button id="restartBtn" class="btn-purple text-white px-6 py-2 rounded-full font-bold">
                PLAY AGAIN
            </button>
        </div>
        
        <div id="startScreen" class="absolute inset-0 bg-black bg-opacity-70 flex flex-col items-center justify-center rounded-lg">
            <h2 class="text-2xl md:text-3xl font-bold text-purple-100 mb-6 glow">SNAKE GAME</h2>
            <button id="startBtn" class="btn-purple text-white px-6 py-2 rounded-full font-bold mb-4">
                START GAME
            </button>
            <p class="text-xs text-purple-300 text-center max-w-xs">
                Use as setas do teclado ou deslize na tela para controlar a cobra
            </p>
        </div>
    </div>
    
    <div class="mt-6 grid grid-cols-4 gap-2 w-full max-w-md hidden md:flex" id="controls">
        <button class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg opacity-50"></button>
        <button id="upBtn" class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg">↑</button>
        <button class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg opacity-50"></button>
        <button class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg opacity-50"></button>
        
        <button id="leftBtn" class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg">←</button>
        <button class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg opacity-50"></button>
        <button id="rightBtn" class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg">→</button>
        <button class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg opacity-50"></button>
        
        <button class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg opacity-50"></button>
        <button id="downBtn" class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg">↓</button>
        <button class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg opacity-50"></button>
        <button class="bg-purple-800 bg-opacity-50 text-white p-4 rounded-lg opacity-50"></button>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Configurações do jogo
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            const scoreElement = document.getElementById('score');
            const highScoreElement = document.getElementById('highScore');
            const finalScoreElement = document.getElementById('finalScore');
            const gameOverScreen = document.getElementById('gameOver');
            const startScreen = document.getElementById('startScreen');
            const startBtn = document.getElementById('startBtn');
            const restartBtn = document.getElementById('restartBtn');
            const controls = document.getElementById('controls');
            
            // Ajustar tamanho do canvas para dispositivos móveis
            function resizeCanvas() {
                const size = Math.min(window.innerWidth - 40, 400);
                canvas.width = size;
                canvas.height = size;
                
                // Mostrar controles apenas em mobile
                if (window.innerWidth < 768) {
                    controls.classList.remove('hidden');
                } else {
                    controls.classList.add('hidden');
                }
            }
            
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            
            // Variáveis do jogo
            let snake = [];
            let food = {};
            let direction = 'right';
            let nextDirection = 'right';
            let gameSpeed = 150;
            let score = 0;
            let highScore = localStorage.getItem('snakeHighScore') || 0;
            let gameLoop;
            let isGameRunning = false;
            let touchStartX = 0;
            let touchStartY = 0;
            
            highScoreElement.textContent = highScore;
            
            // Iniciar jogo
            function initGame() {
                // Resetar cobra
                snake = [
                    {x: 5, y: 10},
                    {x: 4, y: 10},
                    {x: 3, y: 10}
                ];
                
                direction = 'right';
                nextDirection = 'right';
                score = 0;
                scoreElement.textContent = score;
                gameSpeed = 150;
                
                // Gerar comida
                generateFood();
                
                // Esconder telas de início/fim
                gameOverScreen.classList.add('hidden');
                startScreen.classList.add('hidden');
                
                // Iniciar loop do jogo
                if (gameLoop) clearInterval(gameLoop);
                isGameRunning = true;
                gameLoop = setInterval(gameStep, gameSpeed);
            }
            
            // Passo do jogo
            function gameStep() {
                direction = nextDirection;
                
                // Mover cobra
                const head = {...snake[0]};
                
                switch (direction) {
                    case 'up': head.y--; break;
                    case 'down': head.y++; break;
                    case 'left': head.x--; break;
                    case 'right': head.x++; break;
                }
                
                // Verificar colisões com as bordas
                if (
                    head.x < 0 || head.x >= canvas.width / 20 ||
                    head.y < 0 || head.y >= canvas.height / 20
                ) {
                    gameOver();
                    return;
                }
                
                // Verificar colisão com o próprio corpo
                if (snake.some(segment => segment.x === head.x && segment.y === head.y)) {
                    gameOver();
                    return;
                }
                
                // Adicionar nova cabeça
                snake.unshift(head);
                
                // Verificar se comeu a comida
                if (head.x === food.x && head.y === food.y) {
                    score += 10;
                    scoreElement.textContent = score;
                    
                    // Aumentar velocidade gradualmente
                    if (score % 50 === 0 && gameSpeed > 70) {
                        gameSpeed -= 5;
                        clearInterval(gameLoop);
                        gameLoop = setInterval(gameStep, gameSpeed);
                    }
                    
                    generateFood();
                } else {
                    // Remover cauda se não comeu
                    snake.pop();
                }
                
                // Desenhar jogo
                drawGame();
            }
            
            // Desenhar o jogo
            function drawGame() {
                // Limpar canvas
                ctx.fillStyle = '#1a052e';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Desenhar grade (opcional)
                ctx.strokeStyle = '#3b0764';
                ctx.lineWidth = 0.5;
                
                for (let i = 0; i < canvas.width; i += 20) {
                    ctx.beginPath();
                    ctx.moveTo(i, 0);
                    ctx.lineTo(i, canvas.height);
                    ctx.stroke();
                    
                    ctx.beginPath();
                    ctx.moveTo(0, i);
                    ctx.lineTo(canvas.width, i);
                    ctx.stroke();
                }
                
                // Desenhar comida
                ctx.fillStyle = '#f0abfc';
                ctx.beginPath();
                ctx.arc(
                    food.x * 20 + 10,
                    food.y * 20 + 10,
                    8,
                    0,
                    Math.PI * 2
                );
                ctx.fill();
                
                // Desenhar cobra
                snake.forEach((segment, index) => {
                    const gradient = ctx.createLinearGradient(
                        segment.x * 20,
                        segment.y * 20,
                        segment.x * 20 + 20,
                        segment.y * 20 + 20
                    );
                    
                    if (index === 0) {
                        // Cabeça com gradiente mais claro
                        gradient.addColorStop(0, '#c084fc');
                        gradient.addColorStop(1, '#a855f7');
                    } else {
                        // Corpo com gradiente mais escuro
                        gradient.addColorStop(0, '#a855f7');
                        gradient.addColorStop(1, '#7e22ce');
                    }
                    
                    ctx.fillStyle = gradient;
                    ctx.fillRect(segment.x * 20, segment.y * 20, 20, 20);
                    
                    // Borda para destacar
                    ctx.strokeStyle = '#d8b4fe';
                    ctx.lineWidth = 2;
                    ctx.strokeRect(segment.x * 20, segment.y * 20, 20, 20);
                });
            }
            
            // Gerar nova comida
            function generateFood() {
                const maxX = Math.floor(canvas.width / 20);
                const maxY = Math.floor(canvas.height / 20);
                
                food = {
                    x: Math.floor(Math.random() * maxX),
                    y: Math.floor(Math.random() * maxY)
                };
                
                // Verificar se a comida não apareceu em cima da cobra
                while (snake.some(segment => segment.x === food.x && segment.y === food.y)) {
                    food = {
                        x: Math.floor(Math.random() * maxX),
                        y: Math.floor(Math.random() * maxY)
                    };
                }
            }
            
            // Fim de jogo
            function gameOver() {
                clearInterval(gameLoop);
                isGameRunning = false;
                
                // Atualizar pontuação máxima
                if (score > highScore) {
                    highScore = score;
                    localStorage.setItem('snakeHighScore', highScore);
                    highScoreElement.textContent = highScore;
                }
                
                finalScoreElement.textContent = `Score: ${score}`;
                gameOverScreen.classList.remove('hidden');
            }
            
            // Controles de teclado
            document.addEventListener('keydown', (e) => {
                if (!isGameRunning) return;
                
                switch (e.key) {
                    case 'ArrowUp':
                        if (direction !== 'down') nextDirection = 'up';
                        break;
                    case 'ArrowDown':
                        if (direction !== 'up') nextDirection = 'down';
                        break;
                    case 'ArrowLeft':
                        if (direction !== 'right') nextDirection = 'left';
                        break;
                    case 'ArrowRight':
                        if (direction !== 'left') nextDirection = 'right';
                        break;
                }
            });
            
            // Controles de toque para mobile
            canvas.addEventListener('touchstart', (e) => {
                if (!isGameRunning) return;
                
                touchStartX = e.touches[0].clientX;
                touchStartY = e.touches[0].clientY;
                e.preventDefault();
            }, { passive: false });
            
            canvas.addEventListener('touchmove', (e) => {
                if (!isGameRunning) return;
                
                const touchEndX = e.touches[0].clientX;
                const touchEndY = e.touches[0].clientY;
                
                const dx = touchEndX - touchStartX;
                const dy = touchEndY - touchStartY;
                
                // Determinar direção com base no maior movimento
                if (Math.abs(dx) > Math.abs(dy)) {
                    if (dx > 0 && direction !== 'left') nextDirection = 'right';
                    else if (dx < 0 && direction !== 'right') nextDirection = 'left';
                } else {
                    if (dy > 0 && direction !== 'up') nextDirection = 'down';
                    else if (dy < 0 && direction !== 'down') nextDirection = 'up';
                }
                
                e.preventDefault();
            }, { passive: false });
            
            // Controles de botão para mobile
            document.getElementById('upBtn').addEventListener('click', () => {
                if (isGameRunning && direction !== 'down') nextDirection = 'up';
            });
            
            document.getElementById('downBtn').addEventListener('click', () => {
                if (isGameRunning && direction !== 'up') nextDirection = 'down';
            });
            
            document.getElementById('leftBtn').addEventListener('click', () => {
                if (isGameRunning && direction !== 'right') nextDirection = 'left';
            });
            
            document.getElementById('rightBtn').addEventListener('click', () => {
                if (isGameRunning && direction !== 'left') nextDirection = 'right';
            });
            
            // Botões de início/reinício
            startBtn.addEventListener('click', initGame);
            restartBtn.addEventListener('click', initGame);
            
            // Desenhar tela inicial
            drawStartScreen();
            
            function drawStartScreen() {
                ctx.fillStyle = '#1a052e';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                ctx.fillStyle = '#a855f7';
                ctx.font = '20px "Press Start 2P"';
                ctx.textAlign = 'center';
                ctx.fillText('SNAKE GAME', canvas.width / 2, canvas.height / 2 - 30);
                
                ctx.fillStyle = '#c084fc';
                ctx.font = '12px "Press Start 2P"';
                ctx.fillText('PRESS START', canvas.width / 2, canvas.height / 2 + 20);
            }
        });
    </script>
<p style="border-radius: 8px; text-align: center; font-size: 12px; color: #fff; margin-top: 16px;position: fixed; left: 8px; bottom: 8px; z-index: 10; background: rgba(0, 0, 0, 0.8); padding: 4px 8px;">Made with <img src="https://enzostvs-deepsite.hf.space/logo.svg" alt="DeepSite Logo" style="width: 16px; height: 16px; vertical-align: middle;display:inline-block;margin-right:3px;filter:brightness(0) invert(1);"><a href="https://enzostvs-deepsite.hf.space" style="color: #fff;text-decoration: underline;" target="_blank" >DeepSite</a> - 🧬 <a href="https://enzostvs-deepsite.hf.space?remix=JYHJHB/ooooooo" style="color: #fff;text-decoration: underline;" target="_blank" >Remix</a></p></body>
</html>