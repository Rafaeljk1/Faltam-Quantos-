<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contagem Regressiva Mágica</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2756564663289519"
          crossorigin="anonymous"></script>
  
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600;700&display=swap');
    
    body {
      font-family: 'Poppins', sans-serif;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
    }
    
    .title-font {
      font-family: 'Pacifico', cursive;
    }
    
    .time-box {
      perspective: 1000px;
      transition: all 0.3s ease;
    }
    
    .time-box:hover {
      transform: translateY(-5px);
    }
    
    .time-value {
      transform-style: preserve-3d;
      transition: all 0.5s ease;
    }
    
    /* Snowflakes */
    @keyframes snow {
      0% {transform: translateY(0) rotate(0deg); opacity: 1;}
      100% {transform: translateY(100vh) rotate(360deg); opacity: 0;}
    }
    
    .snowflake {
      position: fixed;
      top: -10px;
      z-index: 99;
      color: white;
      user-select: none;
      animation-name: snow;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }
  </style>
</head>
<body class="bg-gradient-to-b from-blue-900 via-purple-900 to-gray-900 text-white">

  <!-- Header -->
  <header class="container mx-auto px-4 py-6 flex justify-between items-center">
    <h1 class="text-2xl font-bold">Contagem<span class="text-yellow-400">Mágica</span></h1>
    <div class="flex space-x-4">
      <button id="themeToggle" class="p-2 rounded-full bg-blue-800 hover:bg-blue-700 transition">
        <i class="fas fa-moon"></i>
      </button>
      <button id="soundToggle" class="p-2 rounded-full bg-blue-800 hover:bg-blue-700 transition">
        <i class="fas fa-volume-up"></i>
      </button>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-10 flex flex-col items-center">
    <!-- Event Toggle -->
    <div class="mb-8 flex space-x-4">
      <button id="toggleButton" onclick="toggleEvent()" 
              class="px-6 py-3 bg-yellow-500 hover:bg-yellow-600 rounded-lg font-semibold transition transform hover:scale-105">
        <i class="fas fa-exchange-alt mr-2"></i>Mudar para o Ano Novo
      </button>
      <button id="resetButton" onclick="resetCountdown()" 
              class="px-6 py-3 bg-red-500 hover:bg-red-600 rounded-lg font-semibold transition transform hover:scale-105">
        <i class="fas fa-redo mr-2"></i>Reiniciar
      </button>
    </div>

    <!-- Main Countdown -->
    <div class="text-center mb-12">
      <h1 id="title" class="title-font text-4xl md:text-6xl mb-8 text-yellow-300">Faltam para o Natal!</h1>
      
      <div id="countdown" class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8 max-w-4xl mx-auto">
        <div class="time-box">
          <div class="bg-blue-700 bg-opacity-50 rounded-xl p-4 shadow-lg border border-blue-400">
            <div class="time-value text-5xl md:text-8xl font-bold" id="days">00</div>
            <div class="text-xl mt-2">Dias</div>
          </div>
        </div>
        
        <div class="time-box">
          <div class="bg-purple-700 bg-opacity-50 rounded-xl p-4 shadow-lg border border-purple-400">
            <div class="time-value text-5xl md:text-8xl font-bold" id="hours">00</div>
            <div class="text-xl mt-2">Horas</div>
          </div>
        </div>
        
        <div class="time-box">
          <div class="bg-green-700 bg-opacity-50 rounded-xl p-4 shadow-lg border border-green-400">
            <div class="time-value text-5xl md:text-8xl font-bold" id="minutes">00</div>
            <div class="text-xl mt-2">Minutos</div>
          </div>
        </div>
        
        <div class="time-box">
          <div class="bg-red-700 bg-opacity-50 rounded-xl p-4 shadow-lg border border-red-400">
            <div class="time-value text-5xl md:text-8xl font-bold" id="seconds">00</div>
            <div class="text-xl mt-2">Segundos</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Event Image -->
    <div id="eventImage" class="mb-12 max-w-md rounded-xl overflow-hidden shadow-2xl">
      <img src="https://images.unsplash.com/photo-1513151233558-d860c5390c71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" 
           alt="Christmas" class="w-full h-auto">
    </div>

    <!-- Message -->
    <div id="message" class="hidden bg-blue-700 bg-opacity-60 rounded-xl p-6 max-w-2xl text-center mb-8 border-2 border-yellow-400">
      <h2 class="text-2xl font-bold mb-2 text-yellow-300">Feliz Natal!</h2>
      <p>Que esta seja uma época de alegria, amor e paz para você e sua família!</p>
    </div>
  </main>

  <!-- Footer -->
  <footer class="container mx-auto px-4 py-6 text-center text-gray-400 border-t border-gray-700 mt-8">
    <p>© 2023 Contagem Regressiva Mágica. Todos os direitos reservados.</p>
  </footer>

  <!-- Ad Container -->
  <div class="hidden md:block fixed bottom-4 right-4 w-72 bg-gray-800 p-4 rounded-lg shadow-xl z-50">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-2756564663289519"
         data-ad-slot="1234567890"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <!-- Snowflakes Container -->
  <div id="snowflakes"></div>

  <!-- Confetti Effect (hidden by default) -->
  <canvas id="confetti" class="fixed top-0 left-0 w-full h-full pointer-events-none" style="z-index: 100; display: none;"></canvas>

  <script>
    // Configuration
    const config = {
      christmas: {
        title: "Faltam para o Natal!",
        targetDate: new Date("December 25, 2023 00:00:00").getTime(),
        bgColor: "bg-gradient-to-b from-blue-900 via-purple-900 to-gray-900",
        imageUrl: "https://images.unsplash.com/photo-1513151233558-d860c5390c71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
      },
      newYear: {
        title: "Faltam para o Ano Novo!",
        targetDate: new Date("January 1, 2024 00:00:00").getTime(),
        bgColor: "bg-gradient-to-b from-indigo-900 via-pink-900 to-gray-900",
        imageUrl: "https://images.unsplash.com/photo-1600880292203-757bb62b4baf?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
      }
    };
    
    let currentEvent = "christmas";
    let countdown;
    let soundEnabled = true;
    let darkMode = true;
    
    // DOM Elements
    const titleEl = document.getElementById("title");
    const daysEl = document.getElementById("days");
    const hoursEl = document.getElementById("hours");
    const minutesEl = document.getElementById("minutes");
    const secondsEl = document.getElementById("seconds");
    const toggleButton = document.getElementById("toggleButton");
    const resetButton = document.getElementById("resetButton");
    const messageEl = document.getElementById("message");
    const eventImageEl = document.getElementById("eventImage");
    const bodyEl = document.body;
    const themeToggleBtn = document.getElementById("themeToggle");
    const soundToggleBtn = document.getElementById("soundToggle");
    const confettiCanvas = document.getElementById("confetti");
    
    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      updateCountdown();
      createSnowflakes();
      
      // Set theme from local storage
      const savedTheme = localStorage.getItem('theme');
      if(savedTheme === 'light') toggleTheme();
      
      // Set sound preference from local storage
      const savedSound = localStorage.getItem('sound');
      if(savedSound === 'off') toggleSound();
      
      countdown = setInterval(updateCountdown, 1000);
    });
    
    // Toggle between Christmas and New Year
    function toggleEvent() {
      currentEvent = currentEvent === "christmas" ? "newYear" : "christmas";
      const event = config[currentEvent];
      
      titleEl.textContent = event.title;
      bodyEl.className = event.bgColor + " text-white";
      eventImageEl.querySelector('img').src = event.imageUrl;
      
      toggleButton.innerHTML = currentEvent === "christmas" 
        ? '<i class="fas fa-exchange-alt mr-2"></i>Mudar para o Ano Novo' 
        : '<i class="fas fa-exchange-alt mr-2"></i>Mudar para o Natal';
      
      // Reset countdown
      updateCountdown();
    }
    
    // Reset countdown
    function resetCountdown() {
      updateCountdown();
    }
    
    // Update countdown display
    function updateCountdown() {
      const now = new Date().getTime();
      const targetDate = config[currentEvent].targetDate;
      const distance = targetDate - now;
      
      if (distance < 0) {
        clearInterval(countdown);
        displayCelebration();
        return;
      }
      
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      
      daysEl.textContent = days.toString().padStart(2, '0');
      hoursEl.textContent = hours.toString().padStart(2, '0');
      minutesEl.textContent = minutes.toString().padStart(2, '0');
      secondsEl.textContent = seconds.toString().padStart(2, '0');
      
      // Add animation class
      document.querySelectorAll('.time-value').forEach(el => {
        el.classList.add('animate-pulse');
        setTimeout(() => el.classList.remove('animate-pulse'), 300);
      });
      
      // Play tick sound (if enabled)
      if(soundEnabled && seconds % 5 === 0 && distance > 0) {
        playSound('tick');
      }
    }
    
    // Show celebration when countdown reaches zero
    function displayCelebration() {
      messageEl.classList.remove('hidden');
      showConfetti();
      if(soundEnabled) playSound('celebration');
      
      // Change title based on event
      titleEl.textContent = currentEvent === "christmas" 
        ? "Feliz Natal!" 
        : "Feliz Ano Novo!";
      
      // Start continuous celebration animation
      document.querySelectorAll('.time-value').forEach(el => {
        el.classList.add('animate-bounce', 'infinite');
      });
    }
    
    // Play sounds
    function playSound(type) {
      if(!soundEnabled) return;
      
      const audio = new Audio();
      if(type === 'tick') {
        audio.src = "https://www.soundjay.com/misc/sounds/clock-ticking-1.mp3";
        audio.volume = 0.2;
      } else if(type === 'celebration') {
        audio.src = currentEvent === "christmas" 
          ? "https://www.soundjay.com/holiday/sounds/jingle-bells-01.mp3" 
          : "https://www.soundjay.com/misc/sounds/applause-8.mp3";
      }
      
      audio.play().catch(e => console.log("Sound play prevented:", e));
    }
    
    // Toggle theme (dark/light)
    function toggleTheme() {
      darkMode = !darkMode;
      
      if(darkMode) {
        bodyEl.classList.remove('bg-gray-100', 'text-gray-900');
        bodyEl.classList.add('bg-gray-900', 'text-white');
        themeToggleBtn.innerHTML = '<i class="fas fa-moon"></i>';
        localStorage.setItem('theme', 'dark');
      } else {
        bodyEl.classList.remove('bg-gray-900', 'text-white');
        bodyEl.classList.add('bg-gray-100', 'text-gray-900');
        themeToggleBtn.innerHTML = '<i class="fas fa-sun"></i>';
        localStorage.setItem('theme', 'light');
      }
    }
    
    // Toggle sound on/off
    function toggleSound() {
      soundEnabled = !soundEnabled;
      
      if(soundEnabled) {
        soundToggleBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
        localStorage.setItem('sound', 'on');
      } else {
        soundToggleBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
        localStorage.setItem('sound', 'off');
      }
    }
    
    // Create snowflakes
    function createSnowflakes() {
      const snowflakesContainer = document.getElementById('snowflakes');
      const snowflakeCount = 50;
      
      for(let i = 0; i < snowflakeCount; i++) {
        const snowflake = document.createElement('div');
        snowflake.classList.add('snowflake');
        snowflake.innerHTML = '❄';
        
        // Random properties
        const size = Math.random() * 15 + 10;
        const posX = Math.random() * window.innerWidth;
        const delay = Math.random() * 5;
        const duration = Math.random() * 10 + 5;
        
        snowflake.style.left = `${posX}px`;
        snowflake.style.fontSize = `${size}px`;
        snowflake.style.opacity = Math.random();
        snowflake.style.animationDelay = `${delay}s`;
        snowflake.style.animationDuration = `${duration}s`;
        
        snowflakesContainer.appendChild(snowflake);
      }
    }
    
    // Show confetti effect
    function showConfetti() {
      confettiCanvas.style.display = 'block';
      
      const canvas = confettiCanvas;
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      
      const particles = [];
      const particleColors = ['#ff0000', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#ff00ff'];
      
      for (let i = 0; i < 150; i++) {
        particles.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          size: Math.random() * 5 + 3,
          color: particleColors[Math.floor(Math.random() * particleColors.length)],
          speedX: Math.random() * 3 - 1.5,
          speedY: Math.random() * 3 + 1,
          rotation: Math.random() * 360,
          rotationSpeed: Math.random() * 5 - 2.5
        });
      }
      
      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        particles.forEach(particle => {
          ctx.save();
          ctx.translate(particle.x, particle.y);
          ctx.rotate(particle.rotation * Math.PI / 180);
          
          ctx.fillStyle = particle.color;
          ctx.fillRect(-particle.size / 2, -particle.size / 2, particle.size, particle.size);
          
          ctx.restore();
          
          particle.x += particle.speedX;
          particle.y += particle.speedY;
          particle.rotation += particle.rotationSpeed;
          
          if(particle.y > canvas.height) {
            particle.y = 0;
            particle.x = Math.random() * canvas.width;
          }
        });
        
        requestAnimationFrame(animate);
      }
      
      animate();
      
      // Stop after 10 seconds
      setTimeout(() => {
        confettiCanvas.style.display = 'none';
      }, 10000);
    }
    
    // Event listeners
    themeToggleBtn.addEventListener('click', toggleTheme);
    soundToggleBtn.addEventListener('click', toggleSound);
    
    // Responsive adjustments
    window.addEventListener('resize', function() {
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    });
  </script>
</body>
</html>
